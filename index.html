<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //Randomised selector between rock,paper and scissors
        function computerPlay(){
            const choiceString = ["rock","paper","scissors"]
            return choiceString[Math.floor(Math.random() * choiceString.length)];
            //test
            //console.log(choiceString[Math.floor(Math.random() * choiceString.length)]);
        }
        //takes the input selction from  the player and makes sure is is compatible with program
        function playerPlay(){
            const handSign = window.prompt("rock,paper or scissors","");
            return handSign.toLowerCase();

        }
        //plays a single round of rock-paper-scissors and posts the result on screen

        function playRound(playerSelection,computerSelection){
            if (playerSelection == "rock"){
                if (computerSelection == "rock"){
                    return "Tie!";
                }
                else if (computerSelection == "paper"){
                    return "You Lose! Paper beats Rock";
                }
                else{
                    return "You Win! Rock beats Scissors";
                }
            } else if (playerSelection == "paper"){
                if (computerSelection == "rock"){
                    return "You Win! Paper beats Rock";
                }
                else if (computerSelection == "paper"){
                    return "Tie!";
                }
                else{
                    return "You Lose! Scissors beats Paper";                    
                }
            } else if (playerSelection == "scissors") {
                if (computerSelection == "rock"){
                    return "You Lose! Rock beats Scissors";
                }
                else if (computerSelection == "paper"){
                    return "You Win! Scissors beats Paper";
                }
                else{
                    return "Tie!";                    
                }
            } else{
                    console.log("input error, please kindly refresh the page")
                }
        }

        function countScore(playerSelection,computerSelection){
            if (playerSelection == "rock"){
                if (computerSelection == "rock"){
                    return "Tie";
                }
                else if (computerSelection == "paper"){
                    return "You Lose";
                }
                else{
                    return "You Win";
                }
            } else if (playerSelection == "paper"){
                if (computerSelection == "rock"){
                    return "You Win";
                }
                else if (computerSelection == "paper"){
                    return "Tie";
                }
                else{
                    return "You Lose";                    
                }
            } else {
                if (computerSelection == "rock"){
                    return "You Lose";
                }
                else if (computerSelection == "paper"){
                    return "You Win";
                }
                else{
                    return "Tie";                    
                }
            }
            
        }
        
        function game(){
            let playerScore = 0;
            let computerScore = 0;
            console.log("Best of 5")
            for (let i=0;i<5;i++){
                console.log(`round ${i+1}`);
                const playerSelection = playerPlay();
                const computerSelection = computerPlay();
                console.log(playRound(playerSelection,computerSelection));
                switch (countScore(playerSelection,computerSelection)) {
                    case "You Win":
                    playerScore++;
                    break;
                    case "You Lose":
                    computerScore++;
                    break;
                    case "Tie":
                    break;
                    case null:
                    console.log("Error! refresh page!");
                }
            }
            console.log(`Player wins: ${playerScore} times and computer won: ${computerScore} times`);
        }
    </script>
</body>
</html>